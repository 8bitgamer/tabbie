<link rel="import" href="../../../bower_components/polymer/polymer.html">
<link rel="import" href="../../../bower_components/paper-ripple/paper-ripple.html">
<link rel="import" href="../../time-ago.html">

<polymer-element name="gmail-item" attributes="item" noscript>
    <template>
        <style>
            :host {
                position: relative;
                width:100%;
            }
            .avatar {
                border-radius: 50%;
                background: gray;
                color: #fff;
                width: 30px;
                height: 30px;
                display: inline-block;
                text-align: center;
                padding-top: 4px;
                position: absolute;
                top: 12px;
                left: 21px;
                text-transform: uppercase;
            }
            * {
                box-sizing: border-box;
                text-decoration: none !important;
            }
            paper-ripple {
                position: absolute;
                top:0;
                left:0;
                width:100%;
                height:100%;
            }
            a {
                display: block;
                padding: 10px 10px 10px 75px;
                border-bottom: 1px solid #E0E0E0;
                color:#000;
            }
            a.unread h1, a.unread h2 {
                font-weight: bold;
            }
            h1 {
                font-size:16px;
                margin:0;
                font-weight:normal;
            }
            h1 .amount {
                color:#616161;
                font-weight: normal;
            }
            h2 {
                font-size:12px;
                margin:0;
                font-weight:normal;
            }
            p {
                font-size:12px;
                color:#616161;
                margin: 6px 0 0;
            }

            p.date {
                margin:0 0 0;
                float:right;
            }
        </style>

        <div class="avatar" style="background-color: {{item.color}}">
            {{item.from.name[0]}}
        </div>
        <a target="_blank" href="https://mail.google.com/mail/u/0/#inbox/{{item.threadId}}" class="{{item.unread ? 'unread' : ''}}">
            <paper-ripple></paper-ripple>
            <p class="date">{{item.date}}</p>
            <h1>
                {{item.from.name}}
                <template if="{{item.amount > 1}}">
                    <span class="amount">({{item.amount}})</span>
                </template>
            </h1>
            <h2>{{item.subject}}</h2>
            <p>
                {{item.snippet}}
            </p>
        </a>
    </template>
</polymer-element>