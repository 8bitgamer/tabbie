<link rel="import" href="../bower_components/polymer/polymer.html">
<link rel="import" href="../bower_components/paper-button/paper-button.html">
<link rel="import" href="../bower_components/paper-shadow/paper-shadow.html">
<link rel="import" href="../bower_components/paper-ripple/paper-ripple.html">
<polymer-element name="column-chooser" attributes="columns">
    <template>
        <style>
            .column {
                text-align: center;
                width: 200px;
                min-width: 200px;
                display:inline-block;
                padding: 20px;
                margin-left: 10px;
                margin-bottom: 10px;
                flex: 1 0 200px;
                position: relative;
                transition: 250ms background;
                background: #fff;
                cursor: pointer;
            }

            .column.selected {
                background:#eeeeee;
            }

            .column paper-ripple {
                position: absolute;
                width:100%;
                height:100%;
                top:0;
                left:0;
            }

            .grid {
                display:flex;
                flex-wrap: wrap;
                align-content: flex-start;
            }

            .hack {
                height: 0;
                border: none;
                padding:0;
                margin:0;
            }
        </style>
        <div horizontal layout wrap class="grid">
            <template repeat="{{column in columns}}">
                <paper-shadow z="0" class="column" on-click="{{onSelected}}">
                    <paper-ripple></paper-ripple>
                    <img src="../src/img/{{column.thumb}}">
                    <h3>{{column.name}}</h3>
                </paper-shadow>
            </template>
            <div class="column hack"></div>
            <div class="column hack"></div>
            <div class="column hack"></div>
            <div class="column hack"></div>
            <div class="column hack"></div>
            <div class="column hack"></div>
            <div class="column hack"></div>
            <div class="column hack"></div>
        </div>

    </template>
    <script>
        Polymer({
            selectedColumns: [],
            columns: [],
            onSelected: function(e) {
                var cl = e.currentTarget.classList;
                var column = e.target.templateInstance.model.column
                if(!cl.contains("selected")) {
                    this.selectedColumns.push(column)
                    cl.add("selected")
                } else {
                    this.selectedColumns.splice(this.selectedColumns.indexOf(column))
                    cl.remove("selected")
                }
            }
        });
    </script>
</polymer-element>